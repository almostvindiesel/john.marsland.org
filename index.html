<!DOCTYPE html>
<html lang="en">
<head>
	<title>John Marsland</title>
	<meta charset="utf-8">
	<meta content="width=device-width,initial-scale=1,user-scalable=no" name="viewport">
	<meta content="John Marsland" name="description">
	<meta content="John Marsland" property="og:site_name">
	<meta content="John Marsland" property="og:title">
	<meta content="article" property="og:type">
	<meta content="https://marsland.org" property="og:url">
	<meta content="summary_large_image" property="twitter:card">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,200,200italic" rel="stylesheet" type="text/css">
	<link href="static/css/style.css" rel="stylesheet">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 400px;
        width: 600px;
      }
    </style>
</head>
<body class="is-loading">
	<svg height="0" version="1.1" viewbox="0 0 40 40" width="0" xmlns="http://www.w3.org/2000/svg">
		<symbol id="icon-90a" viewBox="0 0 40 40">
			<path d="M37.3,15.3v15.3c0,0.8-0.3,1.6-0.9,2.2c-0.6,0.6-1.4,0.9-2.2,0.9H5.8c-0.8,0-1.6-0.3-2.2-0.9s-0.9-1.4-0.9-2.2V15.3 c0.5,0.6,1.2,1.1,2,1.7c4.7,3.1,7.9,5.4,9.6,6.7c0.7,0.5,1.4,0.9,1.8,1.2c0.4,0.3,1,0.6,1.9,0.9c0.7,0.3,1.5,0.5,2.1,0.5l0,0 c0.6,0,1.4-0.2,2.1-0.5c0.7-0.3,1.4-0.6,1.9-0.9c0.4-0.3,1-0.7,1.8-1.2c2.2-1.6,5.4-3.8,9.6-6.7C36.1,16.5,36.7,15.9,37.3,15.3 L37.3,15.3z M37.3,9.6c0,1-0.3,2-0.9,2.9c-0.6,0.9-1.5,1.8-2.4,2.4c-4.9,3.3-7.9,5.4-9,6.2c-0.1,0.1-0.4,0.3-0.8,0.6 c-0.4,0.3-0.7,0.5-1,0.7c-0.3,0.2-0.6,0.4-1,0.6c-0.4,0.2-0.7,0.4-1.1,0.5c-0.4,0.1-0.6,0.2-0.9,0.2l0,0c-0.3,0-0.6-0.1-0.9-0.2 c-0.3-0.1-0.7-0.3-1.1-0.5c-0.4-0.2-0.7-0.4-1-0.6c-0.3-0.2-0.6-0.4-1-0.7c-0.4-0.3-0.7-0.5-0.8-0.6c-1.1-0.8-2.8-2-5.1-3.5 c-2.3-1.6-3.3-2.4-3.7-2.7c-0.8-0.5-1.6-1.2-2.3-2.2s-1-1.9-1-2.6c0-1,0.3-1.9,0.8-2.5c0.5-0.6,1.2-1,2.3-1h28.4 c0.8,0,1.6,0.3,2.2,0.9C37.1,8.1,37.3,8.8,37.3,9.6L37.3,9.6z"/>
		</symbol>
		<symbol id="icon-906" viewBox="0 0 40 40">
			<path d="M27.2,4.7v4.9h-2.9c-1.1,0-1.8,0.2-2.1,0.6c-0.4,0.5-0.6,1.1-0.6,2v3.5H27l-0.7,5.4h-4.7v14H16v-14h-4.7v-5.4H16v-4.1 c0-2.3,0.6-4.1,1.9-5.3s2.9-1.9,5.2-1.9C24.8,4.4,26.2,4.5,27.2,4.7L27.2,4.7z"/>
		</symbol>
		<symbol id="icon-907" viewBox="0 0 40 40">
			<path d="M36,20.3c0,3.5-1,6.6-3.1,9.4c-2,2.8-4.7,4.7-7.9,5.8c-0.4,0.1-0.6,0-0.8-0.1c-0.2-0.2-0.3-0.4-0.3-0.6v-4.4 c0-1.3-0.4-2.3-1.1-3c0.8-0.1,1.5-0.2,2.1-0.4c0.6-0.2,1.3-0.4,2-0.8c0.7-0.4,1.2-0.8,1.7-1.4c0.5-0.5,0.8-1.3,1.1-2.2 s0.4-2,0.4-3.1c0-1.7-0.5-3.1-1.6-4.3c0.5-1.3,0.5-2.7-0.2-4.2c-0.4-0.1-1,0-1.7,0.2c-0.7,0.3-1.4,0.6-1.9,0.9L24,12.5 c-1.3-0.4-2.6-0.5-4-0.5s-2.7,0.2-4,0.5c-0.2-0.2-0.5-0.3-0.9-0.6c-0.4-0.2-0.9-0.5-1.7-0.8c-0.8-0.3-1.4-0.4-1.8-0.3 c-0.6,1.6-0.7,3-0.1,4.2c-1.1,1.2-1.6,2.6-1.6,4.3c0,1.2,0.1,2.2,0.4,3.1s0.6,1.6,1.1,2.2s1,1,1.7,1.4c0.7,0.4,1.3,0.6,2,0.8 c0.6,0.2,1.3,0.3,2.1,0.4c-0.6,0.5-0.9,1.2-1,2.1c-0.3,0.1-0.6,0.2-0.9,0.3c-0.3,0.1-0.7,0.1-1.2,0.1c-0.5,0-0.9-0.1-1.4-0.4 c-0.5-0.3-0.8-0.7-1.2-1.3c-0.3-0.4-0.6-0.8-1-1.1c-0.4-0.3-0.8-0.4-1-0.5L9,26.5c-0.3,0-0.5,0-0.6,0.1c-0.1,0.1-0.1,0.1-0.1,0.2 c0,0.1,0.1,0.2,0.2,0.3c0.1,0.1,0.2,0.2,0.3,0.2l0.1,0.1c0.3,0.1,0.6,0.4,0.9,0.8s0.5,0.7,0.7,1.1l0.2,0.5c0.2,0.5,0.5,1,0.9,1.3 c0.4,0.3,0.9,0.5,1.4,0.6c0.5,0.1,1,0.1,1.4,0.1c0.5,0,0.9,0,1.2-0.1l0.5-0.1c0,0.5,0,1.1,0,1.9c0,0.7,0,1.1,0,1.1 c0,0.2-0.1,0.5-0.3,0.6c-0.2,0.2-0.5,0.2-0.8,0.1c-3.2-1.1-5.8-3-7.9-5.8S4,23.8,4,20.3c0-2.9,0.7-5.6,2.1-8S9.5,7.8,12,6.4 s5.1-2.1,8-2.1s5.6,0.7,8,2.1s4.4,3.4,5.8,5.8S36,17.4,36,20.3L36,20.3z"/>
		</symbol>
		<symbol id="icon-90b" viewBox="0 0 40 40">
			<path d="M12.1,13.8v19.1H5.7V13.8C5.7,13.8,12.1,13.8,12.1,13.8z M12.5,7.9c0,0.9-0.3,1.7-1,2.4c-0.7,0.6-1.5,0.9-2.6,0.9h0 c-1.1,0-1.9-0.3-2.5-0.9c-0.6-0.6-1-1.4-1-2.4c0-1,0.3-1.7,1-2.4S7.9,4.6,9,4.6s1.9,0.3,2.6,0.9S12.5,6.9,12.5,7.9z M35,22v11h-6.4 V22.7c0-1.4-0.3-2.4-0.8-3.2c-0.5-0.8-1.3-1.1-2.4-1.1c-0.8,0-1.5,0.2-2,0.7c-0.5,0.4-1,1-1.2,1.7c-0.1,0.4-0.2,0.9-0.2,1.6v10.7 h-6.4c0-5.1,0-9.3,0-12.5s0-5.1,0-5.7l0-0.9H22v2.8h0c0.3-0.4,0.5-0.8,0.8-1.1c0.3-0.3,0.6-0.6,1.1-1c0.5-0.4,1-0.6,1.7-0.8 c0.7-0.2,1.4-0.3,2.2-0.3c2.2,0,4,0.7,5.3,2.2C34.4,17,35,19.1,35,22L35,22z"/>
		</symbol>
	</svg>
	<div id="wrapper">
		<div id="main">
			<div class="inner">
				<header id="header">
					<ul class="buttons" id="buttons01">
						<li><a class="button n01" href="#home">Home</a></li>
<!-- 						<li><a class="button n02" href="#recipes">Recipes</a></li>
 -->						<li><a class="button n02" href="#recipes" id='recipes-button'>Recipes</a></li>
						<li><a class="button n03" href="#writing">Writing</a></li>
						<li><a class="button n03" href="#projects">Projects</a></li>
<!--  						<li><a class="button n03" href="#eats">LA Eats</a></li>
 --> 						<!--<li><a class="button n03" href="#two-under-two">Twins</a></li>-->
					</ul>
					<hr id="divider01">
				</header>
				<section id="home-section">
					<div class="image" id="image01"><img alt="" src="static/img/mug.jpg">

					</div>
					<h1 id="text03">John Marsland</h1>
					<hr id="divider02">
					<p id="text04">Coffee by day, Sriracha by night</p>
				</section>


				<section id="recipes-section">

					<div id=recipes-quickjump-bar>
						<p class="text10">I'm a foodie to the max, and these are my favorite recipes that I've constantly tweaked over the past decade, roughly ordered by deliciousness.</p>
						<p class="text11">
							<a class="text12" href=#bakes_header>Bakes</a> - <a href=#meals_bestof_header class="text12">Meals</a> - <a href=#drinks_cocktails_header class="text12">Cocktails</a> - <a href=#drinks_caffeine_header class="text12">Caffeine</a>
						</p>
					</div>
					
					
					<div class="total-recipe-container" >


						<div id=recipes-bestof style="">				
								<h3 id="bakes_header">Bakes &#129366;</h3>
								<div id="bakes" class="grid-container"></div>

								<h3 id="meals_bestof_header">Meals &#x1f37d;</h3>
								<p class="text11">Main dishes below catered especially for lovers of garlic, butter, and gluttony</p>
								<div id="meals_bestof" class="grid-container"></div>

								<h3 id="drinks_cocktails_header">Cocktails üç∏</h3>
								<p class="text11">I love complex cocktails, and usually error toward those that are citrusy, bitter, and a bit boozy</p>
								<div id="drinks_cocktails" class="grid-container"></div>

								<h3 id="drinks_caffeine_header">Caffeine ‚òï</h3>
								<div id="drinks_caffeine" class="grid-container"></div>
						</div>

						<div class="grid-container" id="individual-recipe" style="display:none;">
						</div>
					</div>

				</section>



<!-- 				<section id="recipes-section">

					<p id="text06">
						<span> 
						My favorite recipes, which I've gradually tweaked over the years. 
						Some of them have been passed on by family; others are my attempts to replicate my favorite dishes from
						our travels. But all are delicious--especially the starred recipes</span>
					</p>
					<p id="text05">Eats</p>
						<div id=recipes-gdrive-eats>
							<img src=static/img/spinner.gif width=30px> 
						</div>
						<iframe src="https://drive.google.com/embeddedfolderview?id=1iprey3gooBGeOP3Sc2UcoHsLwOGSBeK4#list" 
								style="width:100%; height:300px; border:0;"></iframe>
					<p id="text05">Sweets</p>
						<div id=recipes-gdrive-sweets>
							<img src=static/img/spinner.gif width=30px> 
						</div>

					<p id="text05">Treats</p>
						<div id=recipes-gdrive-treats>
							<img src=static/img/spinner.gif width=30px> 
						</div>

 						<span>
							<iframe src="https://drive.google.com/embeddedfolderview?id=1Gv0h9svXbcAw86fOJlqkHHfgN5_U8r-C#list" 
							 	style="width:100%; height:200px; border:0;"></iframe>
						</span> 
				</section> -->

				<section id="writing-section">
					<ul >
						<li><p id="text07" class="writing-articles">
						   <a href="#two-under-two">Two under two</a> - My experience as a parent of premature twins
						   <span class="updated-date">Jun 2019</span> 
						</p></li>

						<li><p id="text07" class="writing-articles">
							<a href=https://www.quora.com/What-should-I-study-or-learn-if-I-want-to-be-a-data-analyst-for-a-software-company-like-Quora-Zynga-Airbnb-etc 
							   target="_blank">What should I study to be a Data Analyst?</a>. Five skills/technologies to learn to kickstart a data analyst career
							<span class="updated-date">2012, updated Aug 2018</span>
						</p></li>
						
						<li><p id="text07" class="writing-articles">
							<a href=https://medium.com/@almostvindiesel/the-ramen-killer-6ae5d77b8915 
							   target="_blank">The Ramen Killer</a>. I love Ramen. But this Northern Thai soup is my new favorite
							<span class="updated-date">Jun 2016</span>
						</p></li>


						<li><p id="text07">
							...
						</p></li>
						</p>

					</ul>

				</section>

				<section id="two-under-two-section">

					<h3>Two under two</h3>
					<span class="sub-heading" id="text08">My experience as a father of premature twins</span>

					<div class="article-text">

						<p id="text07">The first thing you learn as a parent is that the kids set the family agenda. Our girls took over early. Zara, and her twin Luna, came wiggling into this world the afternoon of January 9th, 2018 three months before their expected due date.</p>
						<br/>

						<p id="text07">Full term is 39 weeks. Twin moms generally give birth at 35 weeks, so while we were expecting early arrivals, little could have prepared us for our girls to say hello world at 27 weeks, each weighing in just under 2lbs:</p><br/>

						<table width=100%>
							<tr>
								<td width=50%>
									<p align=center><img src="static/img/luna-day-1.jpg" width=95%></p>
								</td>
								<td width=50%>
									<p align=center><img src="static/img/zara-day-1.jpg" width=95%></p>
								</td>
							</tr>
						</table>
						<br/>

						<p id="text07">The first thing expecting parents listen for is their newborn‚Äôs cry. After a long wait, from behind the operating curtain, we heard Luna cry ever so briefly after delivery. We never heard from Zara. Both babies had Apgar scores close to 0, and had to be intubated immediately. While Luna only had the breathing tube for 24 hours, Zara cycled through different ventilators for nearly six weeks. One of them‚Äîthe oscillator‚Äîpulsed oxygen-enhanced microbreathes 500 times a second to help her still developing lungs get her the air she needed. Because their caretakers had to carefully position the oscillator, we were only able to touch Zara through her incubator. The first time we held her was six weeks after she was born. Between the two of them they had over a hundred blood draws, half a dozen blood transfusions, brain bleeds, a collapsed lung, slowly closing holes in their hearts, and generally a really tough start in life. </p>
						<br/>

						<p id="text07">Fast forward nine months‚Äîour little ladies just recently celebrated their first Halloween as <a href=https://www.youtube.com/watch?v=XqZsoesa55w>baby sharks (doo do doo do do)</a> and first birthdays. And while our days post the hospital were filled with appointments and normal newborn problems (sleeplessness, sickness, and spit up), in general our twins emerged unscathed. You would have never known that they spent their first three months on life support:</p>
						<br/>

						<table width=100%>
							<tr>
								<td width=50%>
									<p align=center><img src="static/img/luna-later.jpeg" width=95%></p>
								</td>
								<td width=50%>
									<p align=center><img src="static/img/zara-later.jpeg" width=95%></p>
								</td>
							</tr>
						</table>

						<p id="text07">Luna and Zara beat the odds, and we believe the care they received at the hospital as well as the time we were able to spend with them are the primary reasons they are thriving.</p>
						<br/>

						<p id="text07">The attendings, nurses, and respiratory therapists at <a href=https://www.goodsam.org/>Good Samaritan</a> hospital near DTLA became our second family those three months we spent with our newborns in the NICU. They helped our family through every development milestone, from breathing unassisted to nursing from mom. The hospital also allows parents with children in the NICU to ‚Äúroom-in‚Äù free of charge so that they can spend more time with their newborns. For mothers of multiples, parents who live far away, or any new parent, a place to spend the night / rest privately was a true blessing. It allowed us to spend more quality time with Luna and Zara when we were emotionally and physically exhausted.</p>
						<br/>

						<p id="text07">We were fortunate not only to have amazing medical staff but also understanding employers and colleagues. Netflix, where I work, has a generous full-pay parental leave policy, which allowed me to be with our girls both when they were in the hospital as well as for over half a year once they came home. With twins it‚Äôs all hands on deck. In the hospital twins are separated on opposite sides of the NICU to to reduce the potential for medical errors. Having both parents present meant we could spend more quality time with our girls. </p>
						<br/>

						<p id="text07">It‚Äôs a shame that the vast majority of US working parents are not able to spend much time with their new arrivals. While some states have enacted paid parental leave programs, the US has not enacted a national program that would extend to all parents. We‚Äôre one of the few developed countries in the world that doesn‚Äôt have a comprehensive paid leave program. While companies and states are improving their paid leave programs, spending time with your newborns shouldn‚Äôt be based on where you live or where you work. </p>
						<br/>

						<p id="text07">We‚Äôre convinced that the extra parental care that Luna and Zara received helped them thrive. Studies show that <a href=https://www.thelancet.com/journals/lanchi/article/PIIS2352-4642(18)30039-7/fulltext>infants in the NICU who spend time with their parents gain weight faster</a> than infants who don‚Äôt. Babies <a href=https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2883123/>recognize and respond to their parents voices</a> in the womb prior to birth, and being soothed by ours helped them cope with the constant barrage of medical testing. Despite being two of the sickest babies in the hospital, our caretakers told us they were also some of the most calm, and we‚Äôd like to think that because they knew their parents were near.</p>
					</div>
				</section>

				<section id="projects-section">
						<ul >

							<li><p id="text07" class="projects-item">
								<img src="static/img/itlyst-iphone-icon-app.png" width=19px>
								<a href="javascript:void(0)" onclick="toggleDivDisplay('itlyst-preview')">itlyst - remember places you want to visit</a><br/>
								   itlyst is an iOS / web app / chrome extension* that helps you take notes on places. Simply right click on a web page, save an image from yelp, or a text from a friend--and itlyst will recognize the destination automatically and organize all of your notes in one place. Authored with python/flask/angular/ionic (now inactive)
								<span class="updated-date">Jan 2017</span>
							</p></li>

							<br/>

							<div id="itlyst-preview" style="display:none;"> 
								<div style="flex: 1;">
									<p id="text07"><font size=-1>Barcelona Lyst</font></p><br/>
									<img alt="" src="static/img/codedemos/itlyst-venue.png" style="max-width:90%;" >
								</div>
								<div style="flex: 1; margin-right: 2px;">
									<p id="text07" ><font size=-1>Chrome extension</font></p><br/>
									<img alt="" src="static/img/codedemos/itlyst-chrome-extension.png" style="max-width:90%;" >
								</div>
							</div>	



							<div style="clear: both; display:block"></div>
							<li><p id="text07" class="projects-item">
								<i class="fas fa-globe icon-color"></i>
								<a href=http://joanneandjohn.com/500days target="_blank">500 Days of Summer</a><br/>
								   On our one year wedding annivesary, Joanne and I quit our jobs and traveled the world for 500 Days. 
								   She took a picture each day to remember our trip. 
								   
								   Authored with python and flask.
								<span class="updated-date">Jan 2017</span>
							</p></li>
							<br/>


							<li><p id="text07" class="projects-item">
								<i class="fab fa-instagram icon-color"></i> vs <i class="fab fa-snapchat icon-color"></i>
								<a href=http://excelninja.com/snap target="_blank">Snap vs Insta Demographics</a><br/>
								   Responsive dashboard which allows an end user to compare estimated country level demographics between Snapchat and Instagram. Authored with python/flask/chart.js
								<span class="updated-date">Dec 2016</span>
							</p></li>
							<br/>
							<li><p id="text07" class="projects-item">
								<i class="fas fa-video icon-color" ></i>
								<a href=http://excelninja.com/ring target="_blank">Ring.com Sales by Geo</a><br/>
								   Responsive dashboard which shows DMA-level penetration of ring.com devices within the US. 
 
								   Authored with python/flask/chart.js
								<span class="updated-date">Jan 2017</span>
							</p></li>
							<br/>
							<li><p id="text07" class="projects-item">
								<i class="fas fa-video icon-color" ></i>
								<a href="javascript:void(0)" onclick="toggleDivDisplay('joanneandjohn-screenshot')" >Our Spanish Wedding</a><br/>
								   Web destination for our wedding in spain. Authored with wordpress. 
								<span class="updated-date">June 2014</span>
							</p></li>
							
							<div id="joanneandjohn-screenshot" style="display:none"> 
								<p align=center><img alt="" src="static/img/codedemos/wedding-website.png" style="max-width:70%""></center>
							</div>


						</ul>


				</section>

				<footer id="footer">
					<hr id="divider03">
					<ul class="icons" id="icons01">

						<li><a class="n02" href="https://facebook.com/marsland" target="_blank" ><svg>
						<use xlink:href="#icon-906"></use></svg><span class="label">Facebook</span></a></li>

						<li><a class="n02" href="https://github.com/almostvindiesel" target="_blank" ><svg>
						<use xlink:href="#icon-907"></use></svg><span class="label">GitHub</span></a></li>

						<li><a class="n04" href="https://www.linkedin.com/in/johnmarsland/" target="_blank" ><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-90b"></use></svg><span class="label">LinkedIn</span></a></li>

						<li><a class="n03" onclick="toggleShowEmail()"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-90a"></use></svg><span class="label">Email</span></a></li>

					</ul>
				</footer>
				<div id=emailDiv style="display: none;"><p id="text07">john@marsland.org</p></div>
			</div>
		</div>
	</div>
	<script src="static/js/profile.js"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>




	<script>


		function loadRecipes(e) {

			function slugify(string) {
			  const a = '√†√°√¢√§√¶√£√•ƒÅƒÉƒÖ√ßƒáƒçƒëƒè√®√©√™√´ƒìƒóƒôƒõƒü«µ·∏ß√Æ√Ø√≠ƒ´ƒØ√¨≈Ç·∏ø√±≈Ñ«π≈à√¥√∂√≤√≥≈ì√∏≈ç√µ≈ë·πï≈ï≈ô√ü≈õ≈°≈ü»ô≈•»õ√ª√º√π√∫≈´«ò≈Ø≈±≈≥·∫É·∫ç√ø√Ω≈æ≈∫≈º¬∑/_,:;'
			  const b = 'aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------'
			  const p = new RegExp(a.split('').join('|'), 'g')

			  return string.toString().toLowerCase()
			    .replace(/\s+/g, '-') // Replace spaces with -
			    .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters
			    .replace(/&/g, '-and-') // Replace & with 'and'
			    .replace(/[^\w\-]+/g, '') // Remove all non-word characters
			    .replace(/\-\-+/g, '-') // Replace multiple - with single -
			    .replace(/^-+/, '') // Trim - from start of text
			    .replace(/-+$/, '') // Trim - from end of text
			}

			
			// var img_spinner = document.createElement('img');
			// img_spinner.src = "static/img/spinner.gif";
			// img_spinner.width = "30px"
			// img_spinner.id = "recipe-img-spinner"
			// document.getElementById("recipes-bestof").appendChild(img_spinner);

		    if (xhr.readyState == 4 && xhr.status == 200) {
		    	// console.log(xhr.responseText);
		        var res = JSON.parse(xhr.responseText);
		        var recipes = res['data'];

		        for (var i=0; i<recipes.length; i++) {


		        	// Only include recipes with rating >= 4
		        	if (!(recipes[i]['rating'] >= 4)) {
		        		recipes[i]['category_site'] = 'none';
		        	} else {

		        		// Classify Recipe category
			        	if (recipes[i]['category_names'].includes("booze")) {
			        		recipes[i]['category_site'] = 'drinks_cocktails';
			        	} else if (recipes[i]['category_names'].includes("coffee")) {
							recipes[i]['category_site'] = 'drinks_caffeine';
			        	} else if (recipes[i]['category_names'].includes("caffeine")) {
							recipes[i]['category_site'] = 'drinks_caffeine';
			        	} else if (recipes[i]['category_names'].includes("sweets")) {
							recipes[i]['category_site'] = 'bakes';
			        	} else if (recipes[i]['category_names'].includes("bakes")) {
							recipes[i]['category_site'] = 'bakes';
			        	} else if (recipes[i]['rating'] >= 4) {
			        		recipes[i]['category_site'] = 'meals_bestof';
			        	} else {
			        		recipes[i]['category_site'] = 'none';
			        	}



			        	// Resolve image and photo url to img_url for application
			        	if (recipes[i]['image_url'] != null) {
			        		recipes[i]['img_url'] = recipes[i]['image_url'];
			        	} else if (recipes[i]['photo_url'] != null) {
			        		recipes[i]['img_url'] = recipes[i]['photo_url'].substring(0,recipes[i]['photo_url'].indexOf("?Signature"));
			        	} else {
			        		recipes[i]['img_url'] = null
			        	}
			        	// console.log(recipes[i]['img_url']);

				    	var div=document.createElement('div');
					    div.className = "grid-item"


					    var a = document.createElement('a');	
					    a.className = 'text11'	    
					    a.id = recipes[i]['uid'];
					    a.href= "#"+slugify(recipes[i]['name']);
					    a.onclick=function loadRecipe(e) {

					    	window.scroll(0,0);


					    	//console.log(e)
					    	// console.log(e.target.id)
					    	var recipe_index_id = e.target.id

					    	var recipes = JSON.parse(localStorage.getItem('recipes'));
					    	var recipe = recipes[recipe_index_id];

					    	// Hide existing recipe list and recipe nav
					    	document.getElementById("recipes-quickjump-bar").style.display = "none";
					    	toggleDivDisplay('recipes-bestof');
					    	//toggleDivDisplay('recipes-quickjump-bar');


					    	var recipe_div=document.createElement('div'); 
					    	recipe_div.className="article-text"

					    	var recipe_name_h2 = document.createElement("H2")
					    	var t = document.createTextNode(recipe['name']);   
							recipe_name_h2.appendChild(t); 



					    	var ingredients_h2 = document.createElement("H2")
					    	ingredients_h2.innerHTML = "Ingredients";
					    	var ingredients_p = document.createElement("p")
					    	ingredients_p.id = "text10"
					    	ingredients_p.innerHTML = recipe['ingredients'].replace(/\n/g, "<br/>") + "<br/><br/>";

					    	var directions_h2 = document.createElement("H2")
					    	directions_h2.innerHTML = "Directions";
							var directions_p = document.createElement("p")
							directions_p.id = "text10"
							directions_p.innerHTML = recipe['directions'].replace(/\n\n/g, "<br class='directions'/>") ;


					    	// Finally show current recipe

							recipe_div.appendChild(recipe_name_h2);
						    if (recipe['img_url'] != null) {
						    	// var img_div = document.createElement("div")
						    	// img_div.style.maxWidth = "400px";
						    	// img_div.style.maxHeight = "300px";
							    var img = document.createElement('img');
							    img.className = "recipe-full-image";
							    img.src = recipe['img_url']
							    img.align= "right"
								// img_div.appendChild(img); 	
								recipe_div.appendChild(img);
						    } 
							if (recipe['description'] != null) {
						    	var description_p = document.createElement("p")
						    	description_p.id = "text10"
						    	description_p.clear = "left"
						    	description_p.innerHTML = recipe['description'] + "<br/><br/>";
								recipe_div.appendChild(description_p);
							}
							recipe_div.appendChild(ingredients_h2);
							recipe_div.appendChild(ingredients_p);
							recipe_div.appendChild(directions_h2);
							recipe_div.appendChild(directions_p);


							document.getElementById("individual-recipe").innerHTML = "";
							document.getElementById("individual-recipe").appendChild(recipe_div);
					    	toggleDivDisplay('individual-recipe');
						}

					    var img_div = document.createElement('div');
					    img_div.className = "thumb";
				    	img_div.style.backgroundImage = "url('"+recipes[i]['img_url']+"')"
				    	img_div.style.backgroundColor = "#F8F8F8"
					    img_div.id = i;
					    // console.log(img_div)

					    var br=document.createElement('br');

					    var p=document.createElement('p');
					    p.className = "text11";
					    p.id = i;
					    p.innerHTML = recipes[i]['name'];
					    
						a.appendChild(img_div);
						a.appendChild(br);
						a.appendChild(p);

						// a.href = recipes[i]['source_url']
						
						//a.id = slugify(recipes_sorted[i]['name']);
						
					
						// Append to Meals
						// a.appendChild(img_div)
						// a.append(Child)
						// p.appendChild(a);
						div.appendChild(a)
						document.getElementById(recipes[i]['category_site']).appendChild(div);
					}
				}

				localStorage.setItem('recipes', JSON.stringify(recipes));
				// console.log(recipes);
				
		    
		    }
		}

		// Fetch Google Drive Data for Recipes
		// function processRequest(e) {
		//     if (xhr.readyState == 4 && xhr.status == 200) {
		//     	// console.log(xhr.responseText);
		//         var res = JSON.parse(xhr.responseText);
		//         var recipes = res['data'];
		//         //console.log(res['data'][0]);
		       
		//         // Generate Recipe Elements
		//         var recipes_eats_ul=document.createElement('ul');
		//         var recipes_sweets_ul=document.createElement('ul');
		//         var recipes_treats_ul=document.createElement('ul');

		//         // Sort Recipes by Starred, Descending
		// 		function by_starred(a,b) {
		// 		  if (a.starred < b.starred)
		// 		    return 1;
		// 		  if (a.starred > b.starred)
		// 		    return -1;
		// 		  return 0;
		// 		}
		// 		var recipes_sorted = recipes.sort(by_starred);


		// 		function slugify(string) {
		// 		  const a = '√†√°√¢√§√¶√£√•ƒÅƒÉƒÖ√ßƒáƒçƒëƒè√®√©√™√´ƒìƒóƒôƒõƒü«µ·∏ß√Æ√Ø√≠ƒ´ƒØ√¨≈Ç·∏ø√±≈Ñ«π≈à√¥√∂√≤√≥≈ì√∏≈ç√µ≈ë·πï≈ï≈ô√ü≈õ≈°≈ü»ô≈•»õ√ª√º√π√∫≈´«ò≈Ø≈±≈≥·∫É·∫ç√ø√Ω≈æ≈∫≈º¬∑/_,:;'
		// 		  const b = 'aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------'
		// 		  const p = new RegExp(a.split('').join('|'), 'g')

		// 		  return string.toString().toLowerCase()
		// 		    .replace(/\s+/g, '-') // Replace spaces with -
		// 		    .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters
		// 		    .replace(/&/g, '-and-') // Replace & with 'and'
		// 		    .replace(/[^\w\-]+/g, '') // Remove all non-word characters
		// 		    .replace(/\-\-+/g, '-') // Replace multiple - with single -
		// 		    .replace(/^-+/, '') // Trim - from start of text
		// 		    .replace(/-+$/, '') // Trim - from end of text
		// 		}

		// 		function find_referenced_recipe() {
		// 			current_url = window.location.href;
		// 			i = current_url.indexOf("#")
		// 			if (i >= 0) {
		// 				return current_url.substring(i+1);
		// 			} else {
		// 				return undefined;
		// 			}
		// 		}

		// 		recipe_to_highlight = slugify(find_referenced_recipe());

		//         for (var i=0; i<recipes_sorted.length; i++){
		// 		    var p=document.createElement('p');
		// 		    p.id = "text07";
		// 		    p.className += " recipes-item";
		// 		    var li = document.createElement('li');
		// 		    if (recipes_sorted[i]['starred'] == true) {
		// 		    	starred_html = "<i class='fa fa-star icon-color' aria-hidden='true'></i> "

		// 		    	// Scroll to it

		// 		    } else {
		// 		    	starred_html = '';
		// 		    }
		// 		    var a = document.createElement('a');
		// 			a.innerHTML = starred_html + recipes_sorted[i]['name'];
		// 			if (recipe_to_highlight == slugify(recipes_sorted[i]['name'])) {
		// 				a.innerHTML = a.innerHTML;
		// 				p.style.backgroundColor = "#f0f2fa";
		// 				p.style.fontWeight = "bold"
		// 			}
		// 			a.href = 'https://docs.google.com/document/d/'+recipes_sorted[i]['id'];
		// 			a.target = '_blank';
		// 			//a.id = slugify(recipes_sorted[i]['name']);
		// 			li.appendChild(p);
		// 			p.appendChild(a);

		// 			// Append to Meals
		// 			if(recipes_sorted[i]['parent']== '1iprey3gooBGeOP3Sc2UcoHsLwOGSBeK4') {
		// 				recipes_eats_ul.appendChild(li);
		// 			// OR Append to Misc
		// 			} else if (recipes_sorted[i]['parent']== '1Gv0h9svXbcAw86fOJlqkHHfgN5_U8r-C') {
		// 				recipes_sweets_ul.appendChild(li);
		// 			} else if (recipes_sorted[i]['parent']== '1Q0L7yT6XnbW8cLJGkV-cTpS7B-sdMKT5') {
		// 				recipes_treats_ul.appendChild(li);
		// 			}
		// 		}

		// 		// Append To Page
		// 		document.getElementById("recipes-gdrive-eats").innerHTML = '';
		// 		document.getElementById("recipes-gdrive-eats").appendChild(recipes_eats_ul);
		// 		document.getElementById("recipes-gdrive-sweets").innerHTML = '';
		// 		document.getElementById("recipes-gdrive-sweets").appendChild(recipes_sweets_ul);
		// 		document.getElementById("recipes-gdrive-treats").innerHTML = '';
		// 		document.getElementById("recipes-gdrive-treats").appendChild(recipes_treats_ul);
		    
		//     }
		// }

		// ------------ Legacy Recipes
		// var server = "http://www.excelninja.com/";
		// //var server = "http://0.0.0.0:5000/";


		// var xhr = new XMLHttpRequest();
		// var url = server + "api/v2/recipes";

		// xhr.open('GET', url, true);
		// xhr.send();
		// xhr.addEventListener("readystatechange", processRequest, true);

		// // Force the cache to update
		// var url_clear_cache = server + "api/v2/recipes/clear";
		// setTimeout(function(){ 
		// 	var xhr2 = new XMLHttpRequest();
		//     xhr2.open('GET', url_clear_cache, true);
		// 	xhr2.send();
		// }, 3000);



		// ------------ Paprika Recipes
		var server = "http://www.excelninja.com/";
		// var server = "http://0.0.0.0:5000/";


		var xhr = new XMLHttpRequest();
		var url = server + "api/v3/recipes/";

		xhr.open('GET', url, true);
		xhr.send();
		xhr.addEventListener("readystatechange", loadRecipes, true);







	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-18105324-1"></script>
	<script>
		function toggleDivDisplay(divId) {
		  var x = document.getElementById(divId);
		  if (x.style.display === "none") {
		    x.style.display = "flex";
		  } else {
		    x.style.display = "none";
		  }
		}


	</script>

	<!-- Google Analytics -->
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-18105324-1');
	</script>



<!-- 	<script>
		function initMap() {
			var myLatlng = new google.maps.LatLng(34.0446292,-118.2515153);
			var mapOptions = {
			  zoom: 12,
			  center: myLatlng
			}
			var map = new google.maps.Map(document.getElementById("map"), mapOptions);

			var marker = new google.maps.Marker({
			    position: myLatlng,
			    title:"Hello World!"
			});

			// To add the marker to the map, call setMap();
			marker.setMap(map);
		}
	 </script>
	 <script src="https://maps.googleapis.com/maps/api/js?key=MAPAPIKEY&callback=initMap"
	    async defer></script> -->

</body>
</html>

<!-- Inspired by carrd.com -->